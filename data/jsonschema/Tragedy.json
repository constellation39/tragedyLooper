{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$ref": "#/definitions/Tragedy",
    "definitions": {
        "Tragedy": {
            "properties": {
                "tragedy_type": {
                    "enum": [
                        "INCIDENT_TYPE_UNSPECIFIED",
                        0,
                        "MURDER",
                        1,
                        "SUICIDE",
                        2,
                        "HOSPITAL_CONSPIRACY",
                        3,
                        "MURDER_MYSTERY",
                        4
                    ],
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "integer"
                        }
                    ],
                    "title": "Incident Type",
                    "description": "悲剧类型枚举"
                },
                "day": {
                    "type": "integer"
                },
                "conditions": {
                    "items": {
                        "$ref": "#/definitions/v1.Condition"
                    },
                    "type": "array"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Tragedy",
            "description": "Tragedy represents a tragedy in the script."
        },
        "v1.Condition": {
            "properties": {
                "stat_condition": {
                    "$ref": "#/definitions/v1.StatCondition",
                    "additionalProperties": true,
                    "description": "属性条件（例如，妄想值达到某阈值）"
                },
                "location_condition": {
                    "$ref": "#/definitions/v1.LocationCondition",
                    "additionalProperties": true,
                    "description": "地点条件（例如，角色在特定地点）"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Condition",
            "description": "条件的通用消息，使用 oneof 包含各种具体条件"
        },
        "v1.LocationCondition": {
            "properties": {
                "character_id": {
                    "type": "integer",
                    "description": "目标角色ID"
                },
                "location": {
                    "enum": [
                        "LOCATION_TYPE_UNSPECIFIED",
                        0,
                        "HOSPITAL",
                        1,
                        "SHRINE",
                        2,
                        "CITY",
                        3,
                        "SCHOOL",
                        4
                    ],
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "integer"
                        }
                    ],
                    "title": "Location Type",
                    "description": "地点类型枚举"
                },
                "is_alone": {
                    "type": "boolean",
                    "description": "是否在该地点独处"
                },
                "not_alone": {
                    "type": "boolean",
                    "description": "是否在该地点不独处"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Location Condition",
            "description": "地点条件"
        },
        "v1.StatCondition": {
            "properties": {
                "character_id": {
                    "type": "integer",
                    "description": "目标角色ID"
                },
                "stat_type": {
                    "enum": [
                        "STAT_TYPE_UNSPECIFIED",
                        0,
                        "PARANOIA_STAT",
                        1,
                        "GOODWILL_STAT",
                        2,
                        "INTRIGUE_STAT",
                        3
                    ],
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "integer"
                        }
                    ],
                    "title": "Stat Type",
                    "description": "属性类型"
                },
                "comparator": {
                    "enum": [
                        "COMPARATOR_UNSPECIFIED",
                        0,
                        "GREATER_THAN",
                        1,
                        "LESS_THAN",
                        2,
                        "EQUAL_TO",
                        3,
                        "GREATER_THAN_OR_EQUAL",
                        4,
                        "LESS_THAN_OR_EQUAL",
                        5
                    ],
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "integer"
                        }
                    ],
                    "title": "Comparator",
                    "description": "比较符"
                },
                "value": {
                    "type": "integer",
                    "description": "比较的值"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Stat Condition",
            "description": "属性条件"
        }
    }
}