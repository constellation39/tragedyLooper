syntax = "proto3";

package tragedylooper.v1;

import "tragedylooper/v1/effect.proto";
import "tragedylooper/v1/enums.proto";
import "tragedylooper/v1/common.proto";

option go_package = "github.com/constellation39/tragedyLooper/pkg/proto/v1";

// CardConfig defines the configuration for a card.
message CardConfig {
  // The unique identifier for the card.
  int32 id = 1;
  // The name of the card.
  string name = 2;
  // A description of the card.
  string description = 3;
  // The type of the card.
  CardType type = 4;
  // The player role that owns the card (Mastermind or Protagonist).
  PlayerRole owner_role = 5;
  // The effect of the card.
  CompoundEffect effect = 6;
  // Whether the card can only be used once per loop.
  bool once_per_loop = 7;
  // The priority of the card's resolution (for cards of the same type).
  int32 priority = 8;
}

// Card defines a card instance at runtime.
message Card {
  // The configuration for the card.
  CardConfig config = 1;
  // Whether the card has been used in the current loop.
  bool used_this_loop = 2;
  // The target of the card's ability.
  Target target = 3;
}

// CardList is a list of card instances.
message CardList {
  // A list of card instances.
  repeated Card cards = 1;
}
